---
title: Arquitectura de alto nivel para UE-V 1.0
description: Arquitectura de alto nivel para UE-V 1.0
author: dansimp
ms.assetid: d54f9f10-1a4d-4e56-802d-22d51646e1cc
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 76703cf4c7297401e6516830bf194cef741d60ec
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/26/2020
ms.locfileid: "10827100"
---
# <span data-ttu-id="697d0-103">Arquitectura de alto nivel para UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="697d0-103">High-Level Architecture for UE-V 1.0</span></span>


<span data-ttu-id="697d0-104">En este tema se describen los elementos arquitectónicos de alto nivel de la solución de itinerancia de configuración de Microsoft User Experience Virtualization (UE-V).</span><span class="sxs-lookup"><span data-stu-id="697d0-104">This topic describes high-level architectural elements of the Microsoft User Experience Virtualization (UE-V) settings roaming solution.</span></span> <span data-ttu-id="697d0-105">Los siguientes elementos forman parte de una implementación estándar de UE-V.</span><span class="sxs-lookup"><span data-stu-id="697d0-105">The following elements are part of a standard UE-V deployment.</span></span>

![diagrama de arquitectura de UE-v Agent](images/ue-vagentarchitecturaldiagram.gif)

<span data-ttu-id="697d0-107">El agente UE-V supervisa las aplicaciones y los procesos del sistema operativo a medida que se identifican en las plantillas de ubicación de configuración de UE-V.</span><span class="sxs-lookup"><span data-stu-id="697d0-107">The UE-V Agent monitors the applications and the operating system processes as they are identified in the UE-V settings location templates.</span></span> <span data-ttu-id="697d0-108">Cuando se inicie la aplicación o el sistema operativo, la configuración se leerá desde el paquete de configuración y se aplicará al equipo.</span><span class="sxs-lookup"><span data-stu-id="697d0-108">When the application or operating system starts, the settings are read from the settings package and applied to the computer.</span></span> <span data-ttu-id="697d0-109">Cuando se cierra la aplicación o cuando el sistema operativo está bloqueado o cerrado, la configuración se guarda en un paquete de configuración de UE-V en la ubicación de almacenamiento de configuración.</span><span class="sxs-lookup"><span data-stu-id="697d0-109">When the application closes or when the operating system is locked or shut down, settings are saved in a UE-V settings package in the settings storage location.</span></span>

## <span data-ttu-id="697d0-110">Ubicación de almacenamiento de configuración</span><span class="sxs-lookup"><span data-stu-id="697d0-110">Settings storage location</span></span>


<span data-ttu-id="697d0-111">La ubicación de almacenamiento de configuración es un recurso compartido de archivos al que el usuario tiene acceso a la configuración de lectura y escritura del agente de virtualización.</span><span class="sxs-lookup"><span data-stu-id="697d0-111">The settings storage location is a file share that the User Experience Virtualization agent accesses to read and write settings.</span></span> <span data-ttu-id="697d0-112">Esta es el directorio principal de Active Directory o definido durante la instalación de UE-V.</span><span class="sxs-lookup"><span data-stu-id="697d0-112">This location is either the Active Directory home directory or defined during the UE-V installation.</span></span> <span data-ttu-id="697d0-113">Puede establecer la ubicación durante la instalación de UE-V Agent o puede establecerla más tarde con Directiva de grupo, WMI o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="697d0-113">You can set the location during the installation of the UE-V agent, or you can set it later with Group Policy, WMI, or PowerShell.</span></span> <span data-ttu-id="697d0-114">La ubicación puede encontrarse en cualquier recurso compartido de archivos común al que los usuarios puedan tener acceso.</span><span class="sxs-lookup"><span data-stu-id="697d0-114">The location can be on any common file share that users can access.</span></span> <span data-ttu-id="697d0-115">Si no se establece ninguna ubicación de almacenamiento de configuración durante la instalación, UE-V usará el directorio principal en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="697d0-115">If no setting storage location is set during installation then UE-V will use the home directory in Active Directory.</span></span> <span data-ttu-id="697d0-116">El agente UE-V comprueba la ubicación y crea una carpeta del sistema que está oculta para el usuario en el que se almacena y tiene acceso a la configuración de usuario.</span><span class="sxs-lookup"><span data-stu-id="697d0-116">The UE-V agent verifies the location and creates a system folder that is hidden from the user in which to store and access the user settings.</span></span> <span data-ttu-id="697d0-117">Para obtener más información sobre el almacenamiento de configuración, vea [preparar el entorno para UE-V](preparing-your-environment-for-ue-v.md).</span><span class="sxs-lookup"><span data-stu-id="697d0-117">For more information about settings storage, see [Preparing Your Environment for UE-V](preparing-your-environment-for-ue-v.md).</span></span>

## <span data-ttu-id="697d0-118">UE-V Agent</span><span class="sxs-lookup"><span data-stu-id="697d0-118">UE-V Agent</span></span>


<span data-ttu-id="697d0-119">UE-V Agent se instala en cada equipo con la configuración sincronizada por la virtualización de la experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="697d0-119">The UE-V agent is installed on each computer with settings that are synchronized by User Experience Virtualization.</span></span> <span data-ttu-id="697d0-120">El agente supervisa las aplicaciones registradas y el sistema operativo de los cambios que se realicen en la configuración, y sincroniza esa configuración entre equipos.</span><span class="sxs-lookup"><span data-stu-id="697d0-120">The agent monitors the registered applications and the operating system for any changes to that are made to settings, and it synchronizes those settings between computers.</span></span> <span data-ttu-id="697d0-121">La configuración se aplica desde la ubicación de almacenamiento de configuración a la aplicación cuando se inicia la aplicación.</span><span class="sxs-lookup"><span data-stu-id="697d0-121">Settings are applied from the settings storage location to the application when the application is started.</span></span> <span data-ttu-id="697d0-122">La configuración se vuelve a guardar en la ubicación de almacenamiento de configuración cuando se cierra la aplicación.</span><span class="sxs-lookup"><span data-stu-id="697d0-122">The settings are then saved back to the settings storage location when the application closes.</span></span> <span data-ttu-id="697d0-123">La configuración del sistema operativo se aplica cuando el usuario inicia sesión, cuando el equipo se desbloquea o cuando el usuario se conecta de forma remota al equipo mediante el protocolo de escritorio remoto (RDP).</span><span class="sxs-lookup"><span data-stu-id="697d0-123">The operating system settings are applied when the user logs on, when the computer is unlocked, or when the user connects remotely to the computer by using remote desktop protocol (RDP).</span></span> <span data-ttu-id="697d0-124">El agente guarda la configuración cuando el usuario cierra la sesión, cuando el equipo está bloqueado o cuando se desconecta una conexión remota.</span><span class="sxs-lookup"><span data-stu-id="697d0-124">The agent saves settings when the user logs off, when the computer is locked, or when a remote connection is disconnected.</span></span> <span data-ttu-id="697d0-125">Para obtener más información sobre el agente de UE-V, consulte [preparar el entorno para UE-v](preparing-your-environment-for-ue-v.md).</span><span class="sxs-lookup"><span data-stu-id="697d0-125">For more information about the UE-V Agent, see [Preparing Your Environment for UE-V](preparing-your-environment-for-ue-v.md).</span></span>

## <a href="" id="bkmk-settingslocationtemplate"></a><span data-ttu-id="697d0-126">Plantillas de ubicación de configuración</span><span class="sxs-lookup"><span data-stu-id="697d0-126">Settings location templates</span></span>


<span data-ttu-id="697d0-127">La plantilla de ubicación de configuración es un archivo XML que define las ubicaciones de configuración que debe supervisar la virtualización de la experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="697d0-127">The settings location template is an XML file that defines the settings locations to be monitored by User Experience Virtualization.</span></span> <span data-ttu-id="697d0-128">Solo las ubicaciones de configuración definidas en estas plantillas de configuración se capturan o aplican en equipos que ejecutan UE-V Agent.</span><span class="sxs-lookup"><span data-stu-id="697d0-128">Only the settings locations defined in these settings templates are captured or applied on computers running the UE-V Agent.</span></span> <span data-ttu-id="697d0-129">La plantilla de ubicación de configuración no contiene valores de configuración, solo las ubicaciones en las que se almacenan los valores en el equipo.</span><span class="sxs-lookup"><span data-stu-id="697d0-129">The settings location template does not contain settings values, only the locations where values are stored on the computer.</span></span>

<span data-ttu-id="697d0-130">UE-V incluye un conjunto de plantillas de ubicación de configuración que especifican las ubicaciones de configuración de algunas aplicaciones de Microsoft y la configuración de Windows.</span><span class="sxs-lookup"><span data-stu-id="697d0-130">UE-V includes a set of settings location templates that specify settings locations for some Microsoft applications and Windows settings.</span></span> <span data-ttu-id="697d0-131">Un administrador puede crear plantillas de ubicación de configuración personalizadas mediante el generador de UE-V.</span><span class="sxs-lookup"><span data-stu-id="697d0-131">An administrator can create custom settings location templates by using the UE-V Generator.</span></span>

[<span data-ttu-id="697d0-132">Planificación de las aplicaciones a sincronizar con UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="697d0-132">Planning Which Applications to Synchronize with UE-V 1.0</span></span>](planning-which-applications-to-synchronize-with-ue-v-10.md)

[<span data-ttu-id="697d0-133">Planificación de la implementación de la plantilla personalizada para UE-V 1.0</span><span class="sxs-lookup"><span data-stu-id="697d0-133">Planning for Custom Template Deployment for UE-V 1.0</span></span>](planning-for-custom-template-deployment-for-ue-v-10.md)

[<span data-ttu-id="697d0-134">Trabajo con plantillas personalizadas de UE-V y el generador de UE-V</span><span class="sxs-lookup"><span data-stu-id="697d0-134">Working with Custom UE-V Templates and the UE-V Generator</span></span>](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

## <span data-ttu-id="697d0-135">Paquetes de configuración</span><span class="sxs-lookup"><span data-stu-id="697d0-135">Settings packages</span></span>


<span data-ttu-id="697d0-136">La configuración de la aplicación y la configuración de Windows se almacenan en paquetes de configuración creados por el agente de UE-V.</span><span class="sxs-lookup"><span data-stu-id="697d0-136">Application settings and Windows settings are stored in settings packages, which are created by the UE-V Agent.</span></span> <span data-ttu-id="697d0-137">Un paquete de configuración es una colección de las opciones representadas en las plantillas de ubicación de configuración.</span><span class="sxs-lookup"><span data-stu-id="697d0-137">A settings package is a collection of the settings that are represented in the settings location templates.</span></span> <span data-ttu-id="697d0-138">Estos paquetes de configuración se generan, se almacenan de forma local y luego se copian en la ubicación de almacenamiento de configuración.</span><span class="sxs-lookup"><span data-stu-id="697d0-138">These settings packages are built, locally stored, and then copied to the settings storage location.</span></span> <span data-ttu-id="697d0-139">"Última escritura gana" determina qué configuración se conserva cuando un solo usuario sincroniza más de un equipo con una ubicación de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="697d0-139">“Last write wins” determines which settings are preserved when a single user synchronizes the more than one computer to a storage location.</span></span> <span data-ttu-id="697d0-140">El agente que se ejecuta en un equipo Lee y escribe en la ubicación de configuración independiente de los agentes que se ejecutan en otros equipos.</span><span class="sxs-lookup"><span data-stu-id="697d0-140">The agent that runs on one computer reads and writes to the settings location independent of agents that run on other computers.</span></span> <span data-ttu-id="697d0-141">La configuración y los valores más recientes se aplican cuando el siguiente agente Lee de la ubicación de almacenamiento de configuración.</span><span class="sxs-lookup"><span data-stu-id="697d0-141">The most recently written settings and values are applied when the next agent reads from the settings storage location.</span></span>

![proceso de generación de UE-v](images/ue-vgeneratorprocess.gif)

## <span data-ttu-id="697d0-143">Catálogo de plantillas de configuración</span><span class="sxs-lookup"><span data-stu-id="697d0-143">Settings template catalog</span></span>


<span data-ttu-id="697d0-144">El catálogo de plantillas de configuración es una ruta de carpeta en los equipos UE-V o en un recurso compartido de mensajes de servidor (SMB) que almacena todas las plantillas de ubicación de configuración personalizada.</span><span class="sxs-lookup"><span data-stu-id="697d0-144">The settings template catalog is a folder path on UE-V computers or a Server Message Block (SMB) network share that stores all the custom settings location templates.</span></span> <span data-ttu-id="697d0-145">UE-V Agent recupera plantillas nuevas o actualizadas desde esta ubicación.</span><span class="sxs-lookup"><span data-stu-id="697d0-145">The UE-V agent retrieves new or updated templates from this location.</span></span> <span data-ttu-id="697d0-146">UE-V Agent comprueba esta ubicación una vez al día y la actualiza según las plantillas de esta carpeta.</span><span class="sxs-lookup"><span data-stu-id="697d0-146">The UE-V agent checks this location once each day and it updates its synchronization behavior based on the templates in this folder.</span></span> <span data-ttu-id="697d0-147">Las plantillas que se han agregado o actualizado en esta carpeta desde la última comprobación son registradas por el agente de UE-V.</span><span class="sxs-lookup"><span data-stu-id="697d0-147">The templates that were added or updated in this folder since the last check are registered by the UE-V agent.</span></span> <span data-ttu-id="697d0-148">UE-V Agent cancela el registro de las plantillas que se quitaron de esta carpeta.</span><span class="sxs-lookup"><span data-stu-id="697d0-148">The UE-V agent deregisters the templates that were removed from this folder.</span></span> <span data-ttu-id="697d0-149">El programador de tareas registra las plantillas y las registra una vez al día.</span><span class="sxs-lookup"><span data-stu-id="697d0-149">Templates are registered and unregistered one time per day by the task scheduler.</span></span> <span data-ttu-id="697d0-150">Si va a usar solo las plantillas de ubicación de configuración predeterminada que se incluyen en UE-V, el catálogo de plantillas de configuración no es necesario.</span><span class="sxs-lookup"><span data-stu-id="697d0-150">If you will use only the default settings location templates that are included with UE-V, then a settings template catalog is unnecessary.</span></span> <span data-ttu-id="697d0-151">Para obtener más información sobre los catálogos de implementación de configuración, vea [planificación de la implementación de plantillas personalizadas para UE-V 1,0](planning-for-custom-template-deployment-for-ue-v-10.md).</span><span class="sxs-lookup"><span data-stu-id="697d0-151">For more information about settings deployment catalogs, see [Planning for Custom Template Deployment for UE-V 1.0](planning-for-custom-template-deployment-for-ue-v-10.md).</span></span>

## <span data-ttu-id="697d0-152">Generador de virtualización de la experiencia del usuario</span><span class="sxs-lookup"><span data-stu-id="697d0-152">User Experience Virtualization Generator</span></span>


<span data-ttu-id="697d0-153">El generador de virtualización de la experiencia del usuario le permite crear plantillas de ubicación de configuración personalizadas que almacenarán las ubicaciones de configuración de las aplicaciones que se usan en la empresa y que desea incluir en la solución de configuración de itinerancia.</span><span class="sxs-lookup"><span data-stu-id="697d0-153">The User Experience Virtualization Generator enables you to create custom settings location templates which will store the settings locations of the applications that are used in the enterprise and that you want to include in the roaming settings solution.</span></span> <span data-ttu-id="697d0-154">El generador de UE-V intentará descubrir las ubicaciones de los valores del registro y los archivos de configuración de las aplicaciones y, después, registrará esas ubicaciones en un archivo XML de la plantilla de ubicación de configuración.</span><span class="sxs-lookup"><span data-stu-id="697d0-154">The UE-V Generator will seek to discover the locations of registry values and the settings files for applications and then it will record those locations in a settings location template XML file.</span></span> <span data-ttu-id="697d0-155">Después, puede distribuir estas plantillas de ubicación de configuración a los equipos de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="697d0-155">You can then distribute these settings location templates to the user computers.</span></span> <span data-ttu-id="697d0-156">El generador de UE-V también permite que un administrador edite una plantilla existente o valide una plantilla creada con otro editor XML.</span><span class="sxs-lookup"><span data-stu-id="697d0-156">The UE-V Generator also allows an administrator to edit an existing template or validate a template that was created with another XML editor.</span></span>

<span data-ttu-id="697d0-157">El generador de UE-V supervisa una aplicación para descubrir y grabar dónde se almacena su configuración.</span><span class="sxs-lookup"><span data-stu-id="697d0-157">The UE-V Generator monitors an application to discover and record where it stores its settings.</span></span> <span data-ttu-id="697d0-158">Para ello, supervisa dónde lee o escribe la aplicación en el registro HKEY \ _CURRENT \ _USER o en las carpetas de archivos en **users** \ \ \ [nombre de usuario \] \ \ **AppData**  \\  **roaming y usuarios** \ \ \ [nombre de usuario \] \ \ **AppData**  \\  **local**.</span><span class="sxs-lookup"><span data-stu-id="697d0-158">To do this, it monitors where the application reads or writes in the HKEY\_CURRENT\_USER registry or in the file folders under **Users** \\ \[User name\] \\ **AppData** \\ **Roaming and Users** \\ \[User name\] \\ **AppData** \\ **Local**.</span></span>

<span data-ttu-id="697d0-159">El proceso de descubrimiento excluye las claves del registro y los archivos en los que el usuario que ha iniciado sesión no puede escribir valores.</span><span class="sxs-lookup"><span data-stu-id="697d0-159">The discovery process excludes registry keys and files to which the logged-in user cannot write values.</span></span> <span data-ttu-id="697d0-160">Ninguna de estas opciones se incluirá en el archivo XML.</span><span class="sxs-lookup"><span data-stu-id="697d0-160">None of these will be included in the XML file.</span></span> <span data-ttu-id="697d0-161">El proceso de descubrimiento también excluye las claves del registro y los archivos asociados a la funcionalidad básica del sistema operativo Windows.</span><span class="sxs-lookup"><span data-stu-id="697d0-161">The discovery process also excludes registry keys and files that are associated with the core functionality of the Windows operating system.</span></span>

<span data-ttu-id="697d0-162">Para más información sobre el generador de UE-V, consulte [Installing the UE-v generator](installing-the-ue-v-generator.md).</span><span class="sxs-lookup"><span data-stu-id="697d0-162">For more information about the UE-V Generator, see [Installing the UE-V Generator](installing-the-ue-v-generator.md).</span></span>

## <span data-ttu-id="697d0-163">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="697d0-163">Related topics</span></span>


[<span data-ttu-id="697d0-164">Virtualización de la experiencia del usuario de Microsoft (UE-V) 1.0</span><span class="sxs-lookup"><span data-stu-id="697d0-164">Microsoft User Experience Virtualization (UE-V) 1.0</span></span>](index.md)

[<span data-ttu-id="697d0-165">Introducción a la virtualización de la experiencia del usuario 1.0</span><span class="sxs-lookup"><span data-stu-id="697d0-165">Getting Started With User Experience Virtualization 1.0</span></span>](getting-started-with-user-experience-virtualization-10.md)

[<span data-ttu-id="697d0-166">Acerca de la virtualización de la experiencia del usuario 1.0</span><span class="sxs-lookup"><span data-stu-id="697d0-166">About User Experience Virtualization 1.0</span></span>](about-user-experience-virtualization-10.md)

[<span data-ttu-id="697d0-167">Trabajo con plantillas personalizadas de UE-V y el generador de UE-V</span><span class="sxs-lookup"><span data-stu-id="697d0-167">Working with Custom UE-V Templates and the UE-V Generator</span></span>](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

 

 





