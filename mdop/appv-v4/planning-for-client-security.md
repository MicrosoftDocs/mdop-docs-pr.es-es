---
title: Planificación de seguridad de cliente
description: Planificación de seguridad de cliente
author: dansimp
ms.assetid: 4840a60f-4c91-489c-ad0b-6671882abf9b
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/30/2016
ms.openlocfilehash: e0038f7cbc8592d6c7fcdfa485111da88c17791d
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/26/2020
ms.locfileid: "10815931"
---
# <span data-ttu-id="360c6-103">Planificación de seguridad de cliente</span><span class="sxs-lookup"><span data-stu-id="360c6-103">Planning for Client Security</span></span>


<span data-ttu-id="360c6-104">El cliente de App-V proporciona varias mejoras de seguridad que no estaban presentes en versiones anteriores del producto.</span><span class="sxs-lookup"><span data-stu-id="360c6-104">The App-V Client provides several security enhancements that were not present in previous versions of the product.</span></span> <span data-ttu-id="360c6-105">Estos cambios proporcionan una mayor seguridad después de la instalación y a través de una configuración posterior de la configuración del cliente.</span><span class="sxs-lookup"><span data-stu-id="360c6-105">These changes provide improved security after installation and through later configuration of the client settings.</span></span> <span data-ttu-id="360c6-106">En este tema se describen algunas de estas mejoras y se identifican varias opciones de configuración importantes relacionadas con la seguridad que debe tener en cuenta durante el proceso de planeación.</span><span class="sxs-lookup"><span data-stu-id="360c6-106">This topic describes some of those enhancements and identifies several important security-related configuration settings that you should consider during your planning process.</span></span> <span data-ttu-id="360c6-107">Es importante recordar que las aplicaciones virtuales siguen siendo ejecutables, por lo que debe asegurarse de que estos activos no sean manipulados por personas no autorizadas.</span><span class="sxs-lookup"><span data-stu-id="360c6-107">It is important to remember that virtual applications are still executables, so you must ensure that these assets cannot be tampered with by unauthorized people.</span></span> <span data-ttu-id="360c6-108">Por este motivo, la caché del archivo del descriptor de software abierto (OSD) se protege según se describe más adelante en este tema y le recomendamos encarecidamente que use RTSPs, HTTPS e IPsec para proteger la publicación y la transmisión por secuencias.</span><span class="sxs-lookup"><span data-stu-id="360c6-108">For this reason, the Open Software Descriptor (OSD) file cache is protected as described later in this topic, and we strongly recommend that you use RTSPS, HTTPS, and IPsec to protect publishing and streaming.</span></span>

## <span data-ttu-id="360c6-109">Seguridad del cliente de App-V</span><span class="sxs-lookup"><span data-stu-id="360c6-109">App-V Client Security</span></span>


<span data-ttu-id="360c6-110">De forma predeterminada, durante la instalación el cliente de App-V está configurado con los permisos mínimos necesarios para permitir que un usuario realice una actualización de publicación e inicie las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="360c6-110">By default, at installation the App-V client is configured with the minimum permissions required to allow a user to perform a publishing refresh and to start applications.</span></span> <span data-ttu-id="360c6-111">Otras mejoras de seguridad proporcionadas en el cliente de App-V incluyen lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="360c6-111">Other security enhancements provided in the App-V client include the following:</span></span>

-   <span data-ttu-id="360c6-112">De forma predeterminada, la caché de archivos OSD solo puede ser actualizada por los administradores y mediante el proceso de actualización de la publicación.</span><span class="sxs-lookup"><span data-stu-id="360c6-112">By default, the OSD file cache can be updated only by administrators and by using the publishing refresh process.</span></span>

-   <span data-ttu-id="360c6-113">El archivo de registro (sftlog.txt) solo es accesible para las cuentas con acceso administrativo local al cliente.</span><span class="sxs-lookup"><span data-stu-id="360c6-113">The log file (sftlog.txt) is accessible only by accounts with local administrative access to the client.</span></span>

-   <span data-ttu-id="360c6-114">El archivo de registro ahora tiene un tamaño máximo.</span><span class="sxs-lookup"><span data-stu-id="360c6-114">The log file now has a maximum size.</span></span>

### <span data-ttu-id="360c6-115">Asociaciones de tipo de archivo</span><span class="sxs-lookup"><span data-stu-id="360c6-115">File Type Associations</span></span>

<span data-ttu-id="360c6-116">De forma predeterminada, la instalación del cliente registra las asociaciones de tipo de archivo (FTAs) para los archivos OSD, lo que permite a los usuarios iniciar las aplicaciones directamente desde archivos OSD en lugar de los accesos directos publicados.</span><span class="sxs-lookup"><span data-stu-id="360c6-116">By default, the installation of the client registers file type associations (FTAs) for OSD files, which enables users to start applications directly from OSD files instead of the published shortcuts.</span></span> <span data-ttu-id="360c6-117">Si un usuario con derechos de administrador local recibe un archivo OSD que contiene código malintencionado, ya sea en un correo electrónico o se descarga de un sitio web, el usuario puede abrir el archivo OSD e iniciar la aplicación incluso si el cliente se ha configurado para restringir el permiso para **agregar aplicaciones** .</span><span class="sxs-lookup"><span data-stu-id="360c6-117">If a user with local administrator rights receives an OSD file containing malicious code, either in e-mail or downloaded from a Web site, the user can open the OSD file and start the application even if the client has been set to restrict the **Add Application** permission.</span></span> <span data-ttu-id="360c6-118">Puedes anular el registro de FTAs para el OSD y así reducir este riesgo.</span><span class="sxs-lookup"><span data-stu-id="360c6-118">You can unregister the FTAs for the OSD to reduce this risk.</span></span> <span data-ttu-id="360c6-119">Además, puedes bloquear esta extensión en el sistema de correo electrónico y en el firewall.</span><span class="sxs-lookup"><span data-stu-id="360c6-119">Also, consider blocking this extension in the e-mail system and at the firewall.</span></span> <span data-ttu-id="360c6-120">Para obtener más información sobre cómo configurar Outlook para bloquear extensiones, consulte <https://go.microsoft.com/fwlink/?LinkId=133278> .</span><span class="sxs-lookup"><span data-stu-id="360c6-120">For more information about configuring Outlook to block extensions, see <https://go.microsoft.com/fwlink/?LinkId=133278>.</span></span>

**<span data-ttu-id="360c6-121">Nota de seguridad:</span><span class="sxs-lookup"><span data-stu-id="360c6-121">Security Note:</span></span>**

<span data-ttu-id="360c6-122">A partir de la versión 4.6 de App-V, la Asociación de tipo de archivo ya no se crea para los archivos OSD durante una nueva instalación del cliente, aunque la configuración existente se mantendrá durante una actualización de la versión 4,2 o 4,5 del cliente de App-V.</span><span class="sxs-lookup"><span data-stu-id="360c6-122">Starting with App-V version4.6, the file type association is no longer created for OSD files during a new installation of the client, although the existing settings will be maintained during an upgrade from version 4.2 or 4.5 of the App-V client.</span></span> <span data-ttu-id="360c6-123">Si, por algún motivo, es esencial crear la Asociación de tipos de archivo, puede crear las siguientes claves de registro y establecer sus valores como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="360c6-123">If for any reason it is essential to create the file type association, you can create the following registry keys and set their values as shown:</span></span>

    Create HKEY\_CLASSES\_ROOT\\.osd with a default value of SoftGrid.osd.File

    Under HKEY\_LOCAL\_MACHINE\\software\\classes\\Softgrid.osd.file, create a string value named AppUserModelID with a data value of Microsoft.AppV.Client.Tray

### <span data-ttu-id="360c6-124">Authorization</span><span class="sxs-lookup"><span data-stu-id="360c6-124">Authorization</span></span>

<span data-ttu-id="360c6-125">Durante la instalación, puede usar el parámetro **RequireAuthorizationIfCached** para configurar que el cliente solicite la autorización del servidor cuando intente iniciar una aplicación.</span><span class="sxs-lookup"><span data-stu-id="360c6-125">During installation, you can use the **RequireAuthorizationIfCached** parameter to configure the client to require authorization from the server when the user tries to start an application.</span></span> <span data-ttu-id="360c6-126">Debe considerar detenidamente cómo establecer este parámetro.</span><span class="sxs-lookup"><span data-stu-id="360c6-126">You should consider carefully how to set this parameter.</span></span> <span data-ttu-id="360c6-127">Si el servidor de App-V no está disponible por cualquier motivo, la aplicación usará el estado almacenado más reciente de este parámetro para controlar el acceso de los usuarios a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="360c6-127">If the App-V server is unavailable for any reason, the application will use the most recent stored state of this parameter to control user access to the application.</span></span> <span data-ttu-id="360c6-128">Si el usuario no inició la aplicación correctamente antes de que el servidor de App-V deje de estar disponible, no podrá iniciar la aplicación hasta que pueda comunicarse con el servidor y recibir autorización.</span><span class="sxs-lookup"><span data-stu-id="360c6-128">If the user has not launched the application successfully before the App-V server becomes unavailable, they will not be able to launch the application until they can communicate with the server and receive authorization.</span></span> <span data-ttu-id="360c6-129">Sin embargo, si establece el parámetro para que el cliente no requiera autorización y el servidor no esté disponible, todas las aplicaciones almacenadas en caché se pueden iniciar de forma autorizada o no.</span><span class="sxs-lookup"><span data-stu-id="360c6-129">However, if you set the parameter so that the client does not require authorization and if the server is unavailable, all previously cached applications can be started whether authorized or not.</span></span> <span data-ttu-id="360c6-130">Además, si el usuario tiene permiso para cambiar el modo sin conexión del cliente a través de permisos o si el usuario es un administrador local, el usuario podrá abrir todos los paquetes en caché como si la infraestructura de App-V no estuviera disponible.</span><span class="sxs-lookup"><span data-stu-id="360c6-130">Also, if the user has permission to change the client to Work Offline mode through permissions or if the user is a local administrator, the user would be able to open all cached packages as if the App-V infrastructure was unavailable.</span></span>

### <span data-ttu-id="360c6-131">Exploración antivirus</span><span class="sxs-lookup"><span data-stu-id="360c6-131">Antivirus Scanning</span></span>

<span data-ttu-id="360c6-132">El software antivirus que se ejecuta en un equipo cliente de App-V puede detectar y denunciar un archivo infectado en el entorno virtual.</span><span class="sxs-lookup"><span data-stu-id="360c6-132">Antivirus software running on an App-V Client computer can detect and report an infected file in the virtual environment.</span></span> <span data-ttu-id="360c6-133">Sin embargo, no puede desinfectar el archivo.</span><span class="sxs-lookup"><span data-stu-id="360c6-133">However, it cannot disinfect the file.</span></span> <span data-ttu-id="360c6-134">Si se detecta un virus en el entorno virtual, el software antivirus realizará la operación de cuarentena o reparación configurada en la memoria caché, no en el paquete en sí.</span><span class="sxs-lookup"><span data-stu-id="360c6-134">If a virus is detected in the virtual environment, the antivirus software would perform the configured quarantine or repair operation in the cache, not in the actual package.</span></span> <span data-ttu-id="360c6-135">Configure el software antivirus con una excepción para el archivo sftfs. FSD.</span><span class="sxs-lookup"><span data-stu-id="360c6-135">Configure the antivirus software with an exception for the sftfs.fsd file.</span></span> <span data-ttu-id="360c6-136">Este archivo es el archivo de caché que almacena paquetes en el cliente de App-V.</span><span class="sxs-lookup"><span data-stu-id="360c6-136">This file is the cache file that stores packages on the App-V Client.</span></span>

**<span data-ttu-id="360c6-137">Nota de seguridad:</span><span class="sxs-lookup"><span data-stu-id="360c6-137">Security Note:</span></span>**

<span data-ttu-id="360c6-138">Si se detecta un virus en una aplicación o un paquete implementado en el entorno de producción, reemplace la aplicación o el paquete con una versión libre de virus.</span><span class="sxs-lookup"><span data-stu-id="360c6-138">If a virus is detected in an application or package deployed in the production environment, replace the application or package with a virus-free version.</span></span>

## <span data-ttu-id="360c6-139">Comunicación entre el cliente y el servidor</span><span class="sxs-lookup"><span data-stu-id="360c6-139">Communication Between Client and Server</span></span>


<span data-ttu-id="360c6-140">Las actualizaciones de publicación y la transmisión por secuencias de paquetes también son áreas donde las consideraciones de seguridad relacionadas con la comunicación entre clientes y servidores son importantes.</span><span class="sxs-lookup"><span data-stu-id="360c6-140">Publishing refreshes and package streaming are also areas where security considerations relating to client-server communication are important.</span></span>

### <span data-ttu-id="360c6-141">Actualización de publicaciones</span><span class="sxs-lookup"><span data-stu-id="360c6-141">Publishing Refresh</span></span>

<span data-ttu-id="360c6-142">Cuando el cliente se comunica con el servidor para realizar una actualización de publicación, usa las credenciales del usuario que ha iniciado sesión para solicitar información sobre los paquetes de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="360c6-142">When the client communicates with the server to perform a publishing refresh, it uses the credentials of the logged on user to request information about the application packages.</span></span> <span data-ttu-id="360c6-143">Debe proteger la comunicación que se produce entre el cliente de App-V y el servidor de administración de App-V para asegurarse de que no se pueda manipular ninguna información de publicación en tránsito.</span><span class="sxs-lookup"><span data-stu-id="360c6-143">You should secure the communication that occurs between the App-V client and App-V Management Server to ensure that none of the publishing information can be tampered with in transit.</span></span> <span data-ttu-id="360c6-144">Esto se realiza mediante la opción seguridad mejorada, que usará RTSPs/HTTPS.</span><span class="sxs-lookup"><span data-stu-id="360c6-144">This is done by using the Enhanced Security option, which will use RTSPS/HTTPS.</span></span> <span data-ttu-id="360c6-145">La comunicación entre el cliente y la ubicación en la que se almacenan los archivos ICO y OSD debe usar IPsec para recursos compartidos SMB/CIFS y HTTPS para un servidor IIS.</span><span class="sxs-lookup"><span data-stu-id="360c6-145">Communication between the Client and the location where the ICO and OSD files are stored should use IPsec for SMB/CIFS shares and HTTPS for an IIS server.</span></span>

<span data-ttu-id="360c6-146">**Nota:**  Si está usando IIS para publicar los archivos ICO y OSD, configure un tipo MIME para OSD = TXT; de lo contrario, IIS no podrá ofrecer los archivos ICO y OSD a los clientes.</span><span class="sxs-lookup"><span data-stu-id="360c6-146">**Note** If you are using IIS to publish the ICO and OSD files, configure a MIME type for OSD=TXT; otherwise, IIS will refuse to serve the ICO and OSD files to clients.</span></span>

 

### <span data-ttu-id="360c6-147">Streaming de paquetes</span><span class="sxs-lookup"><span data-stu-id="360c6-147">Package Streaming</span></span>

<span data-ttu-id="360c6-148">Cuando un usuario inicia una aplicación por primera vez, o si se han establecido parámetros de carga automática en el cliente, el paquete de la aplicación se transmite desde un servidor a la caché del cliente.</span><span class="sxs-lookup"><span data-stu-id="360c6-148">When a user launches an application for the first time, or if auto-loading parameters have been set on the client, the application package is streamed from a server to the client cache.</span></span> <span data-ttu-id="360c6-149">Este proceso es compatible con los protocolos RTSP/RTSPs, HTTP/HTTPS y SMB/CIFS.</span><span class="sxs-lookup"><span data-stu-id="360c6-149">This process supports the RTSP/RTSPS, HTTP/HTTPS, and SMB/CIFS protocols.</span></span> <span data-ttu-id="360c6-150">Los archivos OSD controlan qué protocolos se usan, a menos que la configuración **ApplicationSourceRoot** o **OverrideURL** se haya configurado en los clientes.</span><span class="sxs-lookup"><span data-stu-id="360c6-150">The OSD files control which protocols are used, unless the **ApplicationSourceRoot** or **OverrideURL** setting has been configured on the clients.</span></span> <span data-ttu-id="360c6-151">Debe configurar la comunicación para que se produzca a través de RTSPs, HTTPS o IPsec para SMB/CIFS, a fin de lograr mayores niveles de seguridad.</span><span class="sxs-lookup"><span data-stu-id="360c6-151">You should configure communication to occur over RTSPS, HTTPS, or IPsec for SMB/CIFS to achieve higher levels of security.</span></span> <span data-ttu-id="360c6-152">Para obtener más información sobre cómo elegir qué método de comunicación usar, consulte la guía de planeación e implementación de App-V en <https://go.microsoft.com/fwlink/?LinkId=122063> .</span><span class="sxs-lookup"><span data-stu-id="360c6-152">For more information about choosing which communication method to use, see the App-V Planning and Deployment Guide at <https://go.microsoft.com/fwlink/?LinkId=122063>.</span></span>

<span data-ttu-id="360c6-153">**Nota:**  Si está usando IIS para publicar paquetes (archivos SFT), configure un tipo MIME para SFT = Binary; de lo contrario, IIS no podrá ofrecer los archivos SFT a los clientes.</span><span class="sxs-lookup"><span data-stu-id="360c6-153">**Note** If you are using IIS to publish packages (SFT files), configure a MIME type for SFT=Binary; otherwise, IIS will refuse to serve the SFT files to clients.</span></span>

 

### <span data-ttu-id="360c6-154">Perfiles de itinerancia y redirección de carpetas</span><span class="sxs-lookup"><span data-stu-id="360c6-154">Roaming Profiles and Folder Redirection</span></span>

<span data-ttu-id="360c6-155">El sistema App-V almacena los cambios específicos de usuario en los paquetes en el archivo usrvol \ _sftfs \ _v1. pkg.</span><span class="sxs-lookup"><span data-stu-id="360c6-155">The App-V system stores user-specific changes to packages in the usrvol\_sftfs\_v1.pkg file.</span></span> <span data-ttu-id="360c6-156">Este archivo se encuentra en la carpeta datos de programa del perfil de un usuario.</span><span class="sxs-lookup"><span data-stu-id="360c6-156">This file is located in the Application Data folder of a user’s profile.</span></span> <span data-ttu-id="360c6-157">Puesto que el perfil o una carpeta de datos de la aplicación redirigida se transfiere entre el cliente y el servidor, use IPsec para proteger la comunicación.</span><span class="sxs-lookup"><span data-stu-id="360c6-157">Because the profile or a redirected Application Data folder is transferred between the client and the server, use IPsec to secure the communication.</span></span>

## <span data-ttu-id="360c6-158">Consideraciones para clientes con conexión a Internet</span><span class="sxs-lookup"><span data-stu-id="360c6-158">Considerations for Internet-Facing Clients</span></span>


<span data-ttu-id="360c6-159">Para los clientes orientados a Internet, es importante tener en cuenta si el cliente está unido a un dominio o si no está unido a un dominio.</span><span class="sxs-lookup"><span data-stu-id="360c6-159">For Internet-facing clients, it is important to consider whether the client is domain joined or non-domain joined.</span></span>

### <span data-ttu-id="360c6-160">Cliente unido a un dominio</span><span class="sxs-lookup"><span data-stu-id="360c6-160">Domain Joined Client</span></span>

<span data-ttu-id="360c6-161">De forma predeterminada, los clientes de App-V usan vales de Kerberos emitidos por los servicios de dominio de Active Directory para la autenticación y autorización en la intranet.</span><span class="sxs-lookup"><span data-stu-id="360c6-161">By default, App-V Clients use Kerberos tickets that were issued by Active Directory Domain Services for authentication and authorization on the intranet.</span></span> <span data-ttu-id="360c6-162">Estos vales de Kerberos son válidos durante 10 horas de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="360c6-162">These Kerberos tickets are valid for 10 hours by default.</span></span> <span data-ttu-id="360c6-163">El cliente usará este vale para acceder al servidor de App-V, siempre y cuando el vale sea válido, incluso si el equipo no puede conectarse al controlador de dominio para actualizar el vale.</span><span class="sxs-lookup"><span data-stu-id="360c6-163">The client will use this ticket to access the App-V server for as long as the ticket is valid, even if the computer is unable to connect to the domain controller to refresh the ticket.</span></span> <span data-ttu-id="360c6-164">Si el vale Kerberos expira, el cliente de App-V volverá a la autenticación NTLM y usará las credenciales almacenadas en la caché del usuario.</span><span class="sxs-lookup"><span data-stu-id="360c6-164">If the Kerberos ticket expires, the App-V client will revert to NTLM authentication and use the user’s cached credentials.</span></span>

### <span data-ttu-id="360c6-165">Cliente que no está unido a un dominio</span><span class="sxs-lookup"><span data-stu-id="360c6-165">Non-Domain Joined Client</span></span>

<span data-ttu-id="360c6-166">Si un usuario está basado en el hogar y el equipo no está unido al dominio de la compañía, App-V aún puede admitir la entrega de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="360c6-166">If a user is home-based and the computer is not joined to the company domain, App-V can still support delivering applications.</span></span> <span data-ttu-id="360c6-167">Para autenticar y autorizar a un usuario a realizar una actualización de publicación e iniciar aplicaciones, configure la cuenta de usuario en el equipo cliente para almacenar el nombre de usuario y la contraseña que tienen acceso al entorno de App-V y para proporcionar los permisos adecuados a las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="360c6-167">To authenticate and authorize a user to perform a publishing refresh and to start applications, configure the user account on the client computer to store the user name and password that has access to the App-V environment and to provide appropriate permissions to the applications.</span></span>

## <span data-ttu-id="360c6-168">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="360c6-168">Related topics</span></span>


[<span data-ttu-id="360c6-169">Planificación de seguridad y protección</span><span class="sxs-lookup"><span data-stu-id="360c6-169">Planning for Security and Protection</span></span>](planning-for-security-and-protection.md)

 

 





