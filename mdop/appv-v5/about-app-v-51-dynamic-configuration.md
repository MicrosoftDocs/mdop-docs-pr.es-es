---
title: Acerca de la configuración dinámica de App-V 5,1
description: Puede usar la configuración dinámica para personalizar un paquete de App-V 5,1 para un usuario. Use la siguiente información para crear o editar un archivo de configuración dinámica existente.
author: dansimp
ms.assetid: 35bc9908-d502-4a9c-873f-8ee17b6d9d74
ms.reviewer: ''
manager: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/28/2018
ms.author: dansimp
ms.openlocfilehash: ec8a25da6e139ac329810b1e04f7097cadaa6ab4
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/26/2020
ms.locfileid: "10814961"
---
# <span data-ttu-id="f7bb0-104">Acerca de la configuración dinámica de App-V 5,1</span><span class="sxs-lookup"><span data-stu-id="f7bb0-104">About App-V 5.1 dynamic configuration</span></span> 
<span data-ttu-id="f7bb0-105">Con la configuración dinámica, puede editar el archivo de configuración dinámica para personalizar cómo se ejecuta un paquete de App-V 5,1 para un usuario o un grupo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-105">With dynamic configuration, you can edit the dynamic configuration file to customize how an App-V 5.1 package runs for a user or group.</span></span> <span data-ttu-id="f7bb0-106">La personalización de paquetes elimina la necesidad de reordenar los paquetes con la configuración deseada.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-106">Package customization removes the need to resequence packages using the desired settings.</span></span>  <span data-ttu-id="f7bb0-107">También proporciona una manera de mantener la configuración personalizada y el contenido del paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-107">It also provides a way to keep package content and custom settings independent.</span></span>

<span data-ttu-id="f7bb0-108">Los paquetes de aplicaciones virtuales contienen un manifiesto que proporciona toda la información básica del paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-108">Virtual application packages contain a manifest that provides all the core information for the package.</span></span> <span data-ttu-id="f7bb0-109">Esta información incluye los valores predeterminados para la configuración del paquete y determina la configuración en el formato más básico (sin ninguna personalización adicional).</span><span class="sxs-lookup"><span data-stu-id="f7bb0-109">This information includes the defaults for the package settings and determines settings in the most basic form (with no additional customization).</span></span> 

<span data-ttu-id="f7bb0-110">Cuando se crea un paquete, el secuenciador genera automáticamente los archivos de implementación y configuración de usuario. XML predeterminados con los datos del manifiesto del paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-110">When a package gets created, the sequencer generates default deployment and user configuration .xml files automatically using the package manifest data.</span></span> <span data-ttu-id="f7bb0-111">Por lo tanto, estos archivos generados reflejan la configuración predeterminada establecida durante la secuenciación.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-111">Therefore, these generated files reflect the default settings configured during sequencing.</span></span> <span data-ttu-id="f7bb0-112">Si aplica estos archivos a un paquete en el formulario generado por el secuenciador, los paquetes tienen la misma configuración predeterminada que viene de su manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-112">If you apply these files to a package in the form generated by the sequencer, the packages have the same default settings that came from their manifest.</span></span> 

<span data-ttu-id="f7bb0-113">Use estos archivos generados para realizar cambios, si es necesario, que no afecten directamente al paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-113">Use these generated files to make changes, if necessary, which doesn’t directly affect the package.</span></span> <span data-ttu-id="f7bb0-114">Si desea agregar, eliminar o actualizar los archivos de configuración, realice los cambios en los valores predeterminados de la información del manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-114">If you want to add, delete or update the configuration files, make your changes about the default values in the manifest information.</span></span>

>[!TIP]
><span data-ttu-id="f7bb0-115">El orden en que se leen los archivos es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-115">The order in which the files read are:</span></span><ul><li><span data-ttu-id="f7bb0-116">UserConfig.xml</span><span class="sxs-lookup"><span data-stu-id="f7bb0-116">UserConfig.xml</span></span></li><li><span data-ttu-id="f7bb0-117">DeploymentConfig.xml</span><span class="sxs-lookup"><span data-stu-id="f7bb0-117">DeploymentConfig.xml</span></span></li><li><span data-ttu-id="f7bb0-118">Manifiesta</span><span class="sxs-lookup"><span data-stu-id="f7bb0-118">Manifest</span></span></li></ul><p><span data-ttu-id="f7bb0-119">La primera entrada representa lo que se lee en último lugar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-119">The first entry represents what gets read last.</span></span> <span data-ttu-id="f7bb0-120">Por lo tanto, el contenido tiene prioridad y todos los paquetes contienen y proporcionan la configuración predeterminada del manifiesto del paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-120">Therefore, its content takes precedence, and all packages inherently contain and provide default settings from the package manifest.</span></span><ol><li> <span data-ttu-id="f7bb0-121">Si personaliza el DeploymentConfig.xml archivo y aplica la configuración personalizada, se reemplazará la configuración predeterminada del manifiesto del paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-121">If customizing the DeploymentConfig.xml file and apply the customized settings, the default settings in the package manifest get overridden.</span></span> </li><li> <span data-ttu-id="f7bb0-122">Si personaliza la UserConfig.xml y aplica la configuración personalizada, se reemplazará la configuración predeterminada de la configuración de implementación y el manifiesto del paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-122">If customizing the UserConfig.xml and apply the customized settings, the default settings for both the deployment configuration and the package manifest get overridden.</span></span> </li></ol>

## <span data-ttu-id="f7bb0-123">Contenido del archivo de configuración de usuario (UserConfig.xml)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-123">User configuration file contents (UserConfig.xml)</span></span>
<span data-ttu-id="f7bb0-124">El archivo UserConfig proporciona opciones de configuración que se aplican a un usuario específico al implementar el paquete en un equipo que ejecuta el cliente de App-V 5,1.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-124">The UserConfig file provides configuration settings that get applied for a specific user when deploying the package to a computer running the App-V 5.1 client.</span></span>  <span data-ttu-id="f7bb0-125">Esta configuración no afecta a ningún otro usuario del cliente.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-125">These settings don’t affect any other users on the client.</span></span>

<span data-ttu-id="f7bb0-126">Use el archivo UserConfig para especificar o modificar la configuración personalizada de un paquete:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-126">Use the UserConfig file to specify or modify custom settings for a package:</span></span>

-   <span data-ttu-id="f7bb0-127">Extensiones integradas en el sistema nativo por usuario: métodos abreviados, asociaciones de tipo de archivo, protocolos de URL, AppPaths, clientes de software y COM</span><span class="sxs-lookup"><span data-stu-id="f7bb0-127">Extensions integrated into the native system per user: shortcuts, file-type associations, URL protocols, AppPaths, software clients and COM</span></span>
-   <span data-ttu-id="f7bb0-128">Subsistemas virtuales: objetos de aplicaciones, variables de entorno, modificaciones de registro, servicios y fuentes</span><span class="sxs-lookup"><span data-stu-id="f7bb0-128">Virtual subsystems: application objects, environment variables, registry modifications, services and fonts</span></span>
-   <span data-ttu-id="f7bb0-129">Scripts (solo contexto de usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-129">Scripts (user context only)</span></span>
-   <span data-ttu-id="f7bb0-130">Administración de la autoridad (para controlar la coexistencia del paquete con App-V 4,6)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-130">Managing authority (for controlling co-existence of package with App-V 4.6)</span></span>

### <span data-ttu-id="f7bb0-131">Encabezado</span><span class="sxs-lookup"><span data-stu-id="f7bb0-131">Header</span></span>

<span data-ttu-id="f7bb0-132">El encabezado de un archivo de configuración de usuario dinámico tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-132">The header of a dynamic user configuration file looks like:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?><UserConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/userconfiguration">
```

<span data-ttu-id="f7bb0-133">El **PackageId** es el mismo valor que existe en el archivo de manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-133">The **PackageId** is the same value as exists in the manifest file.</span></span>


### <span data-ttu-id="f7bb0-134">Body</span><span class="sxs-lookup"><span data-stu-id="f7bb0-134">Body</span></span>

<span data-ttu-id="f7bb0-135">El cuerpo del archivo de configuración de usuario dinámico puede incluir todos los puntos de extensión de aplicación definidos en el archivo de manifiesto, así como información para configurar aplicaciones virtuales.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-135">The body of the dynamic user configuration file can include all the app extension points defined in the manifest file, as well as information to configure virtual applications.</span></span> <span data-ttu-id="f7bb0-136">Hay cuatro subsecciones permitidas en el cuerpo:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-136">There are four subsections allowed in the body:</span></span>

1.  **[<span data-ttu-id="f7bb0-137">Aplicaciones</span><span class="sxs-lookup"><span data-stu-id="f7bb0-137">Applications</span></span>](#applications)** 
2.  **[<span data-ttu-id="f7bb0-138">Subsistemas</span><span class="sxs-lookup"><span data-stu-id="f7bb0-138">Subsystems</span></span>](#subsystems)**
3.  **[<span data-ttu-id="f7bb0-139">UserScripts</span><span class="sxs-lookup"><span data-stu-id="f7bb0-139">UserScripts</span></span>](#userscripts)**
4.  **[<span data-ttu-id="f7bb0-140">ManagingAuthority</span><span class="sxs-lookup"><span data-stu-id="f7bb0-140">ManagingAuthority</span></span>](#managingauthority)**

#### <span data-ttu-id="f7bb0-141">Aplicaciones</span><span class="sxs-lookup"><span data-stu-id="f7bb0-141">Applications</span></span>

<span data-ttu-id="f7bb0-142">Todas las extensiones de aplicación contenidas en el archivo de manifiesto de un paquete tienen asignado un identificador de aplicación, que se encuentra en el archivo de manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-142">All app-extensions contained in the manifest file within a package have an Application ID assigned, which you find in the manifest file.</span></span> <span data-ttu-id="f7bb0-143">El identificador de la aplicación le permite habilitar o deshabilitar todas las extensiones para una aplicación determinada dentro de un paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-143">The Application ID lets you enable or disable all extensions for a given application within a package.</span></span> <span data-ttu-id="f7bb0-144">El identificador de la aplicación debe existir en el archivo de manifiesto o se omite.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-144">The Application ID must exist in the manifest file, or it gets ignored.</span></span>

```XML
<UserConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved"  xmlns="http://schemas.microsoft.com/appv/2010/userconfiguration">

<Applications>

<!--No new application can be defined in policy. AppV Client will ignore any application ID that is not also in the Manifest file-->

<Application Id="{a56fa627-c35f-4a01-9e79-7d36aed8225a}" Enabled="false">

</Application>

</Applications>

..

</UserConfiguration>
```

#### <span data-ttu-id="f7bb0-145">Subsistemas</span><span class="sxs-lookup"><span data-stu-id="f7bb0-145">Subsystems</span></span>

<span data-ttu-id="f7bb0-146">AppExtensions y otros subsistemas dispuestos como subnodos.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-146">AppExtensions and other subsystems arranged as subnodes.</span></span>

```XML
<UserConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/userconfiguration">

<Subsystems>

..

</Subsystems>

..

</UserConfiguration>
```

<span data-ttu-id="f7bb0-147">Puede habilitar o deshabilitar cada subsistema con el atributo **habilitado** .</span><span class="sxs-lookup"><span data-stu-id="f7bb0-147">You can enable or disable each subsystem using the **Enabled** attribute.</span></span>

**<span data-ttu-id="f7bb0-148">Extensions</span><span class="sxs-lookup"><span data-stu-id="f7bb0-148">Extensions</span></span>** 

<span data-ttu-id="f7bb0-149">Algunos subsistemas (subsistemas de extensión) controlan las extensiones.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-149">Some subsystems (extension subsystems) control extensions.</span></span> <span data-ttu-id="f7bb0-150">Esos subsistemas son accesos directos, asociaciones de tipo de archivo, protocolos de URL, AppPaths, clientes de software y COM.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-150">Those subsystems are Shortcuts, File-Type associations, URL Protocols, AppPaths, Software Clients, and COM.</span></span>

<span data-ttu-id="f7bb0-151">Los subsistemas de extensión se pueden habilitar y deshabilitar independientemente del contenido.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-151">Extension subsystems can be enabled and disabled independently of the content.</span></span> <span data-ttu-id="f7bb0-152">Por ejemplo, si habilita los métodos abreviados, el cliente usa los accesos directos incluidos en el manifiesto de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-152">For example, if you enable Shortcuts, the client uses the Shortcuts contained within the manifest by default.</span></span> <span data-ttu-id="f7bb0-153">Cada subsistema de extensión puede contener un \<Extensions\> nodo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-153">Each extension subsystem can contain an \<Extensions\> node.</span></span> <span data-ttu-id="f7bb0-154">Si este elemento secundario está presente, el cliente omite el contenido en el archivo de manifiesto de ese subsistema y solo usa el contenido del archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-154">If this child element is present, the client ignores the content in the manifest file for that subsystem and only use the content in the configuration file.</span></span> 

_**<span data-ttu-id="f7bb0-155">Ejemplos:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-155">Examples:</span></span>**_ 

- <span data-ttu-id="f7bb0-156">Si se define en el archivo de configuración de implementación o usuario, se omite el contenido del manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-156">If you define this in either the user or deployment config file, the content in the manifest gets ignored.</span></span>

  ```XML

  <Shortcuts  Enabled="true"\>

  <Extensions>

  ...

  </Extensions>

  </Shortcuts>
  ```
- <span data-ttu-id="f7bb0-157">Si define solo lo siguiente, el contenido del manifiesto se integrará durante la publicación.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-157">If you define only the following, the content in the manifest gets integrated during publishing.</span></span>

  ```XML

  <Shortcuts  Enabled="true"/>
  ```

- <span data-ttu-id="f7bb0-158">Si define lo siguiente, se omitirán todos los accesos directos del manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-158">If you define the following, all Shortcuts within the manifest still get ignored.</span></span> <span data-ttu-id="f7bb0-159">En otras palabras, los accesos directos no se integran.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-159">In other words, no Shortcuts get integrated.</span></span>

  ```XML

  <Shortcuts  Enabled="true">

     <Extensions/>

  </Shortcuts>
  ```

_**<span data-ttu-id="f7bb0-160">Subsistemas de extensión admitidos:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-160">Supported extension subsystems:</span></span>**_ 

<span data-ttu-id="f7bb0-161">El subsistema de extensión de **accesos directos** controla los métodos abreviados que se integran en el sistema local.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-161">**Shortcuts** extension subsystem controls what shortcuts get integrated into the local system.</span></span>  

```XML

<Subsystems>

<Shortcuts Enabled="true">

  <Extensions>

    <Extension Category="AppV.Shortcut">

      <Shortcut>

        <File>[{Common Programs}]\Microsoft Contoso\Microsoft ContosoApp Filler 2010.lnk</File>

        <Target>[{PackageRoot}]\Contoso\ContosoApp.EXE</Target>


      <Icon>[{Windows}]\Installer\{90140000-0011-0000-0000-0000000FF1CE}\inficon.exe</Icon>

        <Arguments />

        <WorkingDirectory />

        <AppUserModelId>ContosoApp.Filler.3</AppUserModelId>

        <Description>Fill out dynamic forms to gather and reuse information throughout the organization using Microsoft ContosoApp.</Description>

        <Hotkey>0</Hotkey>

        <ShowCommand>1</ShowCommand>

      <ApplicationId>[{PackageRoot}]\Contoso\ContosoApp.EXE</ApplicationId>

      </Shortcut>

  </Extension>

  <Extension Category="AppV.Shortcut">

    <Shortcut>

    <File>[{AppData}]\Microsoft\Contoso\Recent\Templates.LNK</File>

      <Target>[{AppData}]\Microsoft\Templates</Target>

      <Icon />

      <Arguments />

      <WorkingDirectory />

      <AppUserModelId />

      <Description />

      <Hotkey>0</Hotkey>

      <ShowCommand>1</ShowCommand>

      <!-- Note the ApplicationId is optional -->

    </Shortcut>

  </Extension>

 </Extensions>

</Shortcuts>
```

<span data-ttu-id="f7bb0-162">Extensión **de asociados de tipo de archivo** Subsystem asocia tipos de archivo con programas para abrir de forma predeterminada, así como configurar el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-162">**File-Type Associates** extension subsystem associates file types with programs to open by default as well as set up the context menu.</span></span> 

>[!TIP]
><span data-ttu-id="f7bb0-163">Puede configurar el subsistema con tipos MIME.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-163">You can set up the subsystem with MIME types.</span></span>

```XML

<FileTypeAssociations Enabled="true">

<Extensions>

  <Extension Category="AppV.FileTypeAssociation">

    <FileTypeAssociation>

      <FileExtension MimeAssociation="true">

      <Name>.docm</Name>

      <ProgId>contosowordpad.DocumentMacroEnabled.12</ProgId>

      <PerceivedType>document</PerceivedType>

    <ContentType>application/vnd.ms-contosowordpad.document.macroEnabled.12</ContentType>

      <OpenWithList>

        <ApplicationName>wincontosowordpad.exe</ApplicationName>

      </OpenWithList>

     <OpenWithProgIds>

        <ProgId>contosowordpad.8</ProgId>

      </OpenWithProgIds>

      <ShellNew>

        <Command />

        <DataBinary />

        <DataText />

        <FileName />

        <NullFile>true</NullFile>

        <ItemName />

        <IconPath />

        <MenuText />

        <Handler />

      </ShellNew>

    </FileExtension>

    <ProgId>

       <Name>contosowordpad.DocumentMacroEnabled.12</Name>

      <DefaultIcon\>[{Windows}]\Installer\{90140000-0011-0000-0000-000000FF1CE}\contosowordpadicon.exe,15</DefaultIcon>

        <Description>Blah Blah Blah</Description>

        <FriendlyTypeName>[{FOLDERID_ProgramFilesX86}]\Microsoft Contoso 14\res.dll,9182</FriendlyTypeName>

        <InfoTip>[{FOLDERID_ProgramFilesX86}]\Microsoft Contoso 14\res.dll,1424</InfoTip>

        <EditFlags>0</EditFlags>

        <ShellCommands>

          <DefaultCommand>Open</DefaultCommand>

          <ShellCommand>

           <ApplicationId>{e56fa627-c35f-4a01-9e79-7d36aed8225a}</ApplicationId>

             <Name>Edit</Name>

             <FriendlyName>&Edit</FriendlyName>

           <CommandLine>"[{PackageRoot}]\Contoso\WINcontosowordpad.EXE" /vu "%1"</CommandLine>

          </ShellCommand>

          </ShellCommand>

          <ApplicationId>{e56fa627-c35f-4a01-9e79-7d36aed8225a}</ApplicationId>

            <Name>Open</Name>

            <FriendlyName>&Open</FriendlyName>

            <CommandLine>"[{PackageRoot}]\Contoso\WINcontosowordpad.EXE" /n "%1"</CommandLine>

            <DropTargetClassId />

            <DdeExec>

              <Application>mscontosowordpad</Application>

              <Topic>ShellSystem</Topic>

              <IfExec>[SHELLNOOP]</IfExec>

              <DdeCommand>[SetForeground][ShellNewDatabase"%1"]</DdeCommand>

            </DdeExec>

          </ShellCommand>

        </ShellCommands>

      </ProgId>

     </FileTypeAssociation>

   </Extension>

  </Extensions>

  </FileTypeAssociations>
```

<span data-ttu-id="f7bb0-164">El subsistema de extensión de **protocolos URL** controla los protocolos URL integrados en el registro local del equipo cliente, por ejemplo, _mailto:_.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-164">**URL Protocols** extension subsystem controls the URL protocols integrated into the local registry of the client machine, for example, _mailto:_.</span></span> 

```XML

<URLProtocols Enabled="true">

<Extensions>

<Extension Category="AppV.URLProtocol">

<URLProtocol>

  <Name>mailto</Name>

  <ApplicationURLProtocol>

  <DefaultIcon>[{ProgramFilesX86}]\MicrosoftContoso\Contoso\contosomail.EXE,-9403</DefaultIcon>

  <EditFlags>2</EditFlags>

  <Description />

  <AppUserModelId />

  <FriendlyTypeName />

  <InfoTip />

<SourceFilter />

  <ShellFolder />

  <WebNavigableCLSID />

  <ExplorerFlags>2</ExplorerFlags>

  <CLSID />

  <ShellCommands>

  <DefaultCommand>open</DefaultCommand>

  <ShellCommand>

  <ApplicationId>[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE</ApplicationId>

  <Name>open</Name>

  <CommandLine>[{ProgramFilesX86}\Microsoft Contoso\Contoso\contosomail.EXE" -c OEP.Note /m "%1"</CommandLine>

  <DropTargetClassId />

  <FriendlyName />

  <Extended>0</Extended>

  <LegacyDisable>0</LegacyDisable>

  <SuppressionPolicy>2</SuppressionPolicy>

   <DdeExec>

  <NoActivateHandler />

  <Application>contosomail</Application>

  <Topic>ShellSystem</Topic>

  <IfExec>[SHELLNOOP]</IfExec>

  <DdeCommand>[SetForeground][ShellNewDatabase "%1"]</DdeCommand>

  </DdeExec>

  </ShellCommand>

  </ShellCommands>

  </ApplicationURLProtocol>

  </URLProtocol>

  </Extension>

  </Extension>

  </URLProtocols>
```

<span data-ttu-id="f7bb0-165">El subsistema de extensión de **clientes de software** permite que la aplicación se registre como un cliente de correo electrónico, un lector de noticias, un reproductor multimedia y haga que la aplicación esté visible en la interfaz de usuario de configuración de acceso y programas predeterminados del equipo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-165">**Software Clients** extension subsystem allows the app to register as an email client, news reader, media player and makes the app visible in the Set program access and Computer defaults UI.</span></span> <span data-ttu-id="f7bb0-166">En la mayoría de los casos, solo deberás habilitarlo y deshabilitarlo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-166">In most cases, you should only need to enable and disable it.</span></span> <span data-ttu-id="f7bb0-167">También hay un control para habilitar y deshabilitar el cliente de correo electrónico específicamente si desea que los otros clientes sigan habilitados, excepto el cliente.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-167">There is also a control to enable and disable the email client specifically if you want the other clients still enabled except for that client.</span></span>

```XML

<SoftwareClients Enabled="true">

  <ClientConfiguration EmailEnabled="false" />

</SoftwareClients>
```

<span data-ttu-id="f7bb0-168">El subsistema de extensión de **AppPaths** abre aplicaciones registradas con una ruta de acceso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-168">**AppPaths** extension subsystem opens apps registered with an application path.</span></span> <span data-ttu-id="f7bb0-169">Por ejemplo, si contoso.exe tiene un nombre AppPath de _MyApp_, los usuarios pueden escribir _MyApp_ en el menú ejecutar, abriendo contoso.exe.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-169">For example, if contoso.exe has an apppath name of _myapp_, users can type _myapp_ from the run menu, opening contoso.exe.</span></span>

```XML

<AppPaths Enabled="true">

<Extensions>

<Extension Category="AppV.AppPath">

<AppPath>

  <ApplicationId>[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE</ApplicationId>

  <Name>contosomail.exe</Name>

  <ApplicationPath>[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE</ApplicationPath>

  <PATHEnvironmentVariablePrefix />

  <CanAcceptUrl>false</CanAcceptUrl>

  <SaveUrl />

</AppPath>

</Extension>

</Extensions>

</AppPaths>
```

<span data-ttu-id="f7bb0-170">El subsistema de extensiones **com** permite una aplicación registrada en servidores com locales.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-170">**COM** extensions subsystem allows an application registered to local COM servers.</span></span> <span data-ttu-id="f7bb0-171">El modo puede ser:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-171">The mode can be:</span></span>

-   <span data-ttu-id="f7bb0-172">Integrada</span><span class="sxs-lookup"><span data-stu-id="f7bb0-172">Integration</span></span>
-   <span data-ttu-id="f7bb0-173">Dividido</span><span class="sxs-lookup"><span data-stu-id="f7bb0-173">Isolated</span></span> 
-   <span data-ttu-id="f7bb0-174">Desactivado</span><span class="sxs-lookup"><span data-stu-id="f7bb0-174">Off</span></span>

```XML

<COM Mode="Isolated"/>
```

**<span data-ttu-id="f7bb0-175">Objetos de núcleo virtual</span><span class="sxs-lookup"><span data-stu-id="f7bb0-175">Virtual Kernel Objects</span></span>**

```XML

<Objects Enabled="false" />
```

<span data-ttu-id="f7bb0-176">El **registro virtual** establece un registro en el registro virtual dentro de HKCU.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-176">**Virtual Registry** sets a registry in the virtual registry within HKCU.</span></span>

```XML

<Registry Enabled="true">

<Include>

<Key Path="\REGISTRY\USER\[{AppVCurrentUserSID}]\Software\ABC">

<Value Type="REG_SZ" Name="Bar" Data="NewValue" />

 </Key>

  <Key Path="\REGISTRY\USER\[{AppVCurrentUserSID}]\Software\EmptyKey" />

 </Include>

<Delete>

</Registry>
```

**<span data-ttu-id="f7bb0-177">Sistema de archivos virtual</span><span class="sxs-lookup"><span data-stu-id="f7bb0-177">Virtual File System</span></span>**

```XML

    <FileSystem Enabled="true" />
```

**<span data-ttu-id="f7bb0-178">Fuentes virtuales</span><span class="sxs-lookup"><span data-stu-id="f7bb0-178">Virtual Fonts</span></span>**

```XML

      <Fonts Enabled="false" />
```

**<span data-ttu-id="f7bb0-179">Variables de entorno virtual</span><span class="sxs-lookup"><span data-stu-id="f7bb0-179">Virtual Environment Variables</span></span>**

```XML

<EnvironmentVariables Enabled="true">

<Include>

       <Variable Name="UserPath" Value="%path%;%UserProfile%" />

       <Variable Name="UserLib" Value="%UserProfile%\ABC" />

       </Include>

      <Delete>

       <Variable Name="lib" />

        </Delete>

        </EnvironmentVariables>
```

**<span data-ttu-id="f7bb0-180">Servicios virtuales</span><span class="sxs-lookup"><span data-stu-id="f7bb0-180">Virtual services</span></span>**

```XML

      <Services Enabled="false" />
```

#### <span data-ttu-id="f7bb0-181">UserScripts</span><span class="sxs-lookup"><span data-stu-id="f7bb0-181">UserScripts</span></span>

<span data-ttu-id="f7bb0-182">Use UserScripts para configurar o modificar el entorno virtual.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-182">Use UserScripts to set up or alter the virtual environment.</span></span>  <span data-ttu-id="f7bb0-183">También puede ejecutar scripts en el momento de la implementación o para limpiar el entorno después de que finalice la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-183">You can also execute scripts at the time of deployment or to clean up the environment after the application terminates.</span></span> <span data-ttu-id="f7bb0-184">Para ver un script de ejemplo, consulte el archivo de configuración de usuario generado por el secuenciador.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-184">To see a sample script, refer to the user configuration file generated by the sequencer.</span></span> <span data-ttu-id="f7bb0-185">La sección de scripts que se muestra a continuación proporciona más información sobre los diversos desencadenadores que se pueden usar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-185">The Scripts section below provides more information on the various triggers that can be used.</span></span>

#### <span data-ttu-id="f7bb0-186">ManagingAuthority</span><span class="sxs-lookup"><span data-stu-id="f7bb0-186">ManagingAuthority</span></span>

<span data-ttu-id="f7bb0-187">Use ManagingAuthority cuando dos versiones de su paquete coexistan en el mismo equipo, una implementada en App-V 4,6 y otra implementada en App-V 5,0.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-187">Use ManagingAuthority when two versions of your package co-exist on the same machine, one deployed to App-V 4.6 and another deployed on App-V 5.0.</span></span> <span data-ttu-id="f7bb0-188">Para permitir que App-V vNext tome el control de App-V 4,6 puntos de extensión para el paquete nombrado, escriba lo siguiente en el archivo UserConfig (donde PackageName es el GUID del paquete en App-V 4,6:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-188">To allow App-V vNext to take over App-V 4.6 extension points for the named package enter the following in the UserConfig file (where PackageName is the Package GUID in App-V 4.6:</span></span>

```XML

<ManagingAuthority TakeoverExtensionPointsFrom46="true" PackageName="032630c0-b8e2-417c-acef-76fc5297fe81" />
```

## <span data-ttu-id="f7bb0-189">Archivo de configuración de implementación (DeploymentConfig.xml)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-189">Deployment configuration file (DeploymentConfig.xml)</span></span>

<span data-ttu-id="f7bb0-190">El archivo DeploymentConfig proporciona opciones de configuración para el contexto del equipo y el contexto del usuario, y proporciona las mismas funciones que aparecen en el archivo UserConfig.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-190">The DeploymentConfig file provides configuration settings for machine context and user context, providing the same capabilities listed in the UserConfig file.</span></span> <span data-ttu-id="f7bb0-191">La configuración se aplica al implementar el paquete en un equipo que ejecuta el cliente de App-V 5,1.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-191">The setting get applied when deploying the package to a computer running the App-V 5.1 client.</span></span>

<span data-ttu-id="f7bb0-192">Use el archivo DeploymentConfig para especificar o modificar la configuración personalizada de un paquete:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-192">Use the DeploymentConfig file to specify or modify custom settings for a package:</span></span>

- <span data-ttu-id="f7bb0-193">Toda la configuración de UserConfig</span><span class="sxs-lookup"><span data-stu-id="f7bb0-193">All UserConfig settings</span></span>
- <span data-ttu-id="f7bb0-194">Extensiones que solo se pueden aplicar globalmente a todos los usuarios</span><span class="sxs-lookup"><span data-stu-id="f7bb0-194">Extensions that can only be applied globally for all users</span></span>
- <span data-ttu-id="f7bb0-195">Subsistemas virtuales para ubicaciones de máquinas globales, por ejemplo, el registro</span><span class="sxs-lookup"><span data-stu-id="f7bb0-195">Virtual subsystems for global machine locations, for example, registry</span></span>
- <span data-ttu-id="f7bb0-196">Dirección URL de origen del producto</span><span class="sxs-lookup"><span data-stu-id="f7bb0-196">Product source URL</span></span>
- <span data-ttu-id="f7bb0-197">Scripts (solo en el contexto de equipo)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-197">Scripts (machine context only)</span></span>
- <span data-ttu-id="f7bb0-198">Controles para finalizar procesos secundarios</span><span class="sxs-lookup"><span data-stu-id="f7bb0-198">Controls to terminate child processes</span></span>

### <span data-ttu-id="f7bb0-199">Encabezado</span><span class="sxs-lookup"><span data-stu-id="f7bb0-199">Header</span></span>

<span data-ttu-id="f7bb0-200">El encabezado de un archivo de configuración de implementación dinámico tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-200">The header of a dynamic deployment configuration file looks like:</span></span>

```XML
<?xml version="1.0" encoding="utf-8"?><DeploymentConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/deploymentconfiguration">
```

<span data-ttu-id="f7bb0-201">El **PackageId** es el mismo valor que existe en el archivo de manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-201">The **PackageId** is the same value as exists in the manifest file.</span></span>

### <span data-ttu-id="f7bb0-202">Body</span><span class="sxs-lookup"><span data-stu-id="f7bb0-202">Body</span></span>

<span data-ttu-id="f7bb0-203">El cuerpo del archivo de configuración de implementación dinámica incluye dos secciones:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-203">The body of the dynamic deployment configuration file includes two sections:</span></span>

- <span data-ttu-id="f7bb0-204">**UserConfiguration:** permite el mismo contenido que el archivo de configuración de usuario descrito en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-204">**UserConfiguration:** allows the same content as the user configuration file described in the previous section.</span></span>  <span data-ttu-id="f7bb0-205">Al publicar el paquete para un usuario, cualquier valor de configuración de appextensions en esta sección reemplaza la configuración correspondiente en el manifiesto dentro del paquete, a menos que proporcione un archivo de configuración de usuario.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-205">When publishing the package to a user, any appextensions configuration settings in this section override corresponding settings in the manifest within the package, unless you provide a user configuration file.</span></span> <span data-ttu-id="f7bb0-206">Si también proporciona un archivo UserConfig, se usa en lugar de la configuración de usuario en el archivo de configuración de implementación.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-206">If also providing a UserConfig file, it gets used instead of the User settings in the deployment configuration file.</span></span> <span data-ttu-id="f7bb0-207">Si publica el paquete globalmente, solo el contenido del archivo de configuración de la implementación se usa en combinación con el manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-207">If publishing the package globally, then only the contents of the deployment configuration file get used in combination with the manifest.</span></span> <span data-ttu-id="f7bb0-208">Para obtener más información, consulte [contenido del archivo de configuración de usuario (UserConfig.xml)](#user-configuration-file-contents-userconfigxml).</span><span class="sxs-lookup"><span data-stu-id="f7bb0-208">For more details, see [User configuration file contents (UserConfig.xml)](#user-configuration-file-contents-userconfigxml).</span></span>

- <span data-ttu-id="f7bb0-209">**MachineConfiguration:** contiene información que se puede configurar solo para un equipo completo, no para un usuario específico en el equipo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-209">**MachineConfiguration:** contains information that can be configured only for an entire machine, not for a specific user on the machine.</span></span> <span data-ttu-id="f7bb0-210">Por ejemplo, HKEY_LOCAL_MACHINE las claves del registro en el VFS.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-210">For example, HKEY_LOCAL_MACHINE registry keys in the VFS.</span></span>

```XML

<DeploymentConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/deploymentconfiguration">

<UserConfiguration>

...

</UserConfiguration>

<MachineConfiguration>

...

</MachineConfiguration>

...

</MachineConfiguration>

</DeploymentConfiguration>
```

### <span data-ttu-id="f7bb0-211">UserConfiguration</span><span class="sxs-lookup"><span data-stu-id="f7bb0-211">UserConfiguration</span></span>

<span data-ttu-id="f7bb0-212">Para obtener información sobre la configuración proporcionada para esta sección [, consulte contenido del archivo de configuración de usuario (UserConfig.xml)](#user-configuration-file-contents-userconfigxml) .</span><span class="sxs-lookup"><span data-stu-id="f7bb0-212">Refer to [User configuration file contents (UserConfig.xml)](#user-configuration-file-contents-userconfigxml) for information on the settings provided for this section.</span></span> 

### <span data-ttu-id="f7bb0-213">MachineConfiguration</span><span class="sxs-lookup"><span data-stu-id="f7bb0-213">MachineConfiguration</span></span>

<span data-ttu-id="f7bb0-214">Use la sección MachineConfiguration para configurar información de todo un equipo; no es para un usuario específico en el equipo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-214">Use the MachineConfiguration section to configure information for an entire machine; not for a specific user on the computer.</span></span> <span data-ttu-id="f7bb0-215">Por ejemplo, HKEY_LOCAL_MACHINE claves de registro en el registro virtual.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-215">For example, HKEY_LOCAL_MACHINE registry keys in the virtual registry.</span></span> <span data-ttu-id="f7bb0-216">Hay cuatro subsecciones permitidas en este elemento:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-216">There are four subsections allowed in under this element:</span></span>

1.  **[<span data-ttu-id="f7bb0-217">Subsistemas</span><span class="sxs-lookup"><span data-stu-id="f7bb0-217">Subsystems</span></span>](#subsystems-1)**
2.  **[<span data-ttu-id="f7bb0-218">ProductSourceURLOptOut</span><span class="sxs-lookup"><span data-stu-id="f7bb0-218">ProductSourceURLOptOut</span></span>](#productsourceurloptout)**
3.  **[<span data-ttu-id="f7bb0-219">MachineScripts</span><span class="sxs-lookup"><span data-stu-id="f7bb0-219">MachineScripts</span></span>](#machinescripts)**
4.  **[<span data-ttu-id="f7bb0-220">TerminateChildProcess</span><span class="sxs-lookup"><span data-stu-id="f7bb0-220">TerminateChildProcess</span></span>](#terminatechildprocess)**

#### <span data-ttu-id="f7bb0-221">Subsistemas</span><span class="sxs-lookup"><span data-stu-id="f7bb0-221">Subsystems</span></span>

<span data-ttu-id="f7bb0-222">AppExtensions y otros subsistemas dispuestos como subnodos.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-222">AppExtensions and other subsystems arranged as subnodes.</span></span>

```XML

<MachineConfiguration>

  <Subsystems>

  …

  </Subsystems>

…

</MachineConfiguration>
```

<span data-ttu-id="f7bb0-223">Puede habilitar o deshabilitar cada subsistema con el atributo **habilitado** .</span><span class="sxs-lookup"><span data-stu-id="f7bb0-223">You can enable or disable each subsystem using the **Enabled** attribute.</span></span>

**<span data-ttu-id="f7bb0-224">Extensions</span><span class="sxs-lookup"><span data-stu-id="f7bb0-224">Extensions</span></span>** 

<span data-ttu-id="f7bb0-225">Algunos subsistemas (subsistemas de extensión) controlan las extensiones.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-225">Some subsystems (extension subsystems) control extensions.</span></span> <span data-ttu-id="f7bb0-226">El subsistema es la funcionalidad de las aplicaciones que usan los programas predeterminados.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-226">The subsystem is Application Capabilities that default programs use.</span></span> <span data-ttu-id="f7bb0-227">Para este tipo de extensión, el paquete debe publicarse globalmente para integrarse en el sistema local.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-227">For this type of extension, the package must be published globally for integration into the local system.</span></span> <span data-ttu-id="f7bb0-228">Las mismas reglas para los controles y la configuración que se aplican a las extensiones de la configuración de usuario también se aplican a las que figuran en la sección MachineConfiguration.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-228">The same rules for controls and settings that apply to the Extensions in the User Configuration also, apply to those in the MachineConfiguration section.</span></span>

<span data-ttu-id="f7bb0-229">**Capacidades**de la aplicación: utilizan programas predeterminados que permiten que una aplicación se registre como sigue:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-229">**Application Capabilities**: Used by default programs that allow an application to register itself as:</span></span>

- <span data-ttu-id="f7bb0-230">Posibilidad de abrir extensiones de archivo específicas</span><span class="sxs-lookup"><span data-stu-id="f7bb0-230">Capable of opening specific file extensions</span></span>
- <span data-ttu-id="f7bb0-231">Un espacio para el área del explorador de Internet del menú Inicio</span><span class="sxs-lookup"><span data-stu-id="f7bb0-231">A contender for the start menu internet browser slot</span></span>
- <span data-ttu-id="f7bb0-232">Posibilidad de abrir tipos específicos de MIME de Windows</span><span class="sxs-lookup"><span data-stu-id="f7bb0-232">Capable of opening specific windows MIME types</span></span>

<span data-ttu-id="f7bb0-233">Esta extensión también hace que la aplicación virtual esté visible en la interfaz de usuario de programas predeterminados.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-233">This extension also makes the virtual application visible in the Set default programs UI.</span></span>

```XML

<ApplicationCapabilities Enabled="true">

  <Extensions>

   <Extension Category="AppV.ApplicationCapabilities">

    <ApplicationCapabilities>


   <ApplicationId>[{PackageRoot}]\LitView\LitViewBrowser.exe</ApplicationId>

     <Reference>

      <Name>LitView Browser</Name>

      <Path>SOFTWARE\LitView\Browser\Capabilities</Path>

     </Reference>

   <CapabilityGroup>

    <Capabilities>


   <Name>@[{ProgramFilesX86}]\LitView\LitViewBrowser.exe,-12345</Name>


   <Description>@[{ProgramFilesX86}]\LitView\LitViewBrowser.exe,-12346</Description>

     <Hidden>0</Hidden>

     <EMailSoftwareClient>Lit View E-Mail Client</EMailSoftwareClient>

     <FileAssociationList>

      <FileAssociation Extension=".htm" ProgID="LitViewHTML" />

      <FileAssociation Extension=".html" ProgID="LitViewHTML" />

      <FileAssociation Extension=".shtml" ProgID="LitViewHTML" />

     </FileAssociationList>

     <MIMEAssociationList>

      <MIMEAssociation Type="audio/mp3" ProgID="LitViewHTML" />

      <MIMEAssociation Type="audio/mpeg" ProgID="LitViewHTML" />

     </MIMEAssociationList>

    <URLAssociationList>

      <URLAssociation Scheme="http" ProgID="LitViewHTML.URL.http" />

     </URLAssociationList>

     </Capabilities>

  </CapabilityGroup>

   </ApplicationCapabilities>

  </Extension>

</Extensions>

</ApplicationCapabilities>
```

_**<span data-ttu-id="f7bb0-234">Subsistemas de extensión admitidos:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-234">Supported extension subsystems:</span></span>**_ 

<span data-ttu-id="f7bb0-235">El subsistema de extensión de **registro virtual para todo el equipo** establece una clave del registro en el registro Virtual en HKEY_LOCAL_MACHINE.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-235">**Machine Wide Virtual Registry** extension subsystem sets a registry key in the virtual registry within HKEY_Local_Machine.</span></span>

```XML

<Registry>

<Include>

  <Key Path="\REGISTRY\\Machine\Software\ABC">

    <Value Type="REG_SZ" Name="Bar" Data="Baz" />

   </Key>

  <Key Path="\REGISTRY\Machine\Software\EmptyKey" />

 </Include>

<Delete>

</Registry>
```

**<span data-ttu-id="f7bb0-236">Objetos de núcleo virtual de todo el equipo</span><span class="sxs-lookup"><span data-stu-id="f7bb0-236">Machine Wide Virtual Kernel Objects</span></span>**

```XML

<Objects>

<NotIsolate>

   <Object Name="testObject" />

 </NotIsolate>

</Objects>
```

#### <span data-ttu-id="f7bb0-237">ProductSourceURLOptOut</span><span class="sxs-lookup"><span data-stu-id="f7bb0-237">ProductSourceURLOptOut</span></span>

<span data-ttu-id="f7bb0-238">Use ProductSourceURLOptOut para indicar que la dirección URL para el paquete se puede modificar globalmente a través de _PackageSourceRoot_ (para admitir escenarios de sucursales).</span><span class="sxs-lookup"><span data-stu-id="f7bb0-238">Use ProductSourceURLOptOut to indicate that the URL for the package can be modified globally through _PackageSourceRoot_ (to support branch office scenarios).</span></span> <span data-ttu-id="f7bb0-239">Los cambios se aplicarán en el próximo inicio.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-239">Changes take effect on the next launch.</span></span> 

```XML

<MachineConfiguration>

  ... 

  <ProductSourceURLOptOut Enabled="true" />

  ...

</MachineConfiguration>
```

#### <span data-ttu-id="f7bb0-240">MachineScripts</span><span class="sxs-lookup"><span data-stu-id="f7bb0-240">MachineScripts</span></span>

<span data-ttu-id="f7bb0-241">El paquete se puede configurar para que ejecute scripts en el momento de la implementación, la publicación o la eliminación.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-241">The package can be configured to execute scripts at time of deployment, publishing or removal.</span></span> <span data-ttu-id="f7bb0-242">Para ver un script de ejemplo, consulte el archivo de configuración de implementación generado por el secuenciador.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-242">To see a sample script, refer to the deployment configuration file generated by the sequencer.</span></span> 

<span data-ttu-id="f7bb0-243">La sección de scripts que se muestra a continuación proporciona más información sobre los diversos desencadenadores que se pueden usar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-243">The Scripts section below provides more information on the various triggers that can be used.</span></span>

#### <span data-ttu-id="f7bb0-244">TerminateChildProcess</span><span class="sxs-lookup"><span data-stu-id="f7bb0-244">TerminateChildProcess</span></span>

<span data-ttu-id="f7bb0-245">Se puede especificar un ejecutable de la aplicación, cuyos procesos secundarios se terminan cuando el proceso exe de la aplicación finaliza.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-245">An application executable can be specified, whose child processes get terminated when the application exe process terminates.</span></span>

```XML

<MachineConfiguration>

  ...   

  <TerminateChildProcesses>

    <Application Path="[{PackageRoot}]\Contoso\ContosoApp.EXE" />

    <Application Path="[{PackageRoot}]\LitView\LitViewBrowser.exe" />

    <Application Path="[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE" />

  </TerminateChildProcesses>

  ...

</MachineConfiguration>
```



## <span data-ttu-id="f7bb0-246">Scripts</span><span class="sxs-lookup"><span data-stu-id="f7bb0-246">Scripts</span></span>

<span data-ttu-id="f7bb0-247">En la tabla siguiente se describen los diversos eventos de script y el contexto en el que se pueden ejecutar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-247">The following table describes the various script events and the context under which they can be run.</span></span>

| <span data-ttu-id="f7bb0-248">Tiempo de ejecución de script</span><span class="sxs-lookup"><span data-stu-id="f7bb0-248">Script Execution Time</span></span>       | <span data-ttu-id="f7bb0-249">Puede especificarse en la configuración de implementación</span><span class="sxs-lookup"><span data-stu-id="f7bb0-249">Can be specified in Deployment Configuration</span></span> | <span data-ttu-id="f7bb0-250">Se puede especificar en configuración de usuario</span><span class="sxs-lookup"><span data-stu-id="f7bb0-250">Can be specified in User Configuration</span></span> | <span data-ttu-id="f7bb0-251">Puede ejecutarse en el entorno virtual del paquete</span><span class="sxs-lookup"><span data-stu-id="f7bb0-251">Can run in the Virtual Environment of the package</span></span> | <span data-ttu-id="f7bb0-252">Puede ejecutarse en el contexto de una aplicación específica</span><span class="sxs-lookup"><span data-stu-id="f7bb0-252">Can be run in the context of a specific application</span></span> | <span data-ttu-id="f7bb0-253">Se ejecuta en el contexto sistema o usuario: (configuración de implementación, configuración de usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-253">Runs in system/user context: (Deployment Configuration, User Configuration)</span></span> |
|-----------------------------|----------------------------------------------|----------------------------------------|---------------------------------------------------|-----------------------------------------------------|-----------------------------------------------------------------------------|
| <span data-ttu-id="f7bb0-254">AddPackage</span><span class="sxs-lookup"><span data-stu-id="f7bb0-254">AddPackage</span></span>                  | <span data-ttu-id="f7bb0-255">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-255">X</span></span>                                            |                                        |                                                   |                                                     | <span data-ttu-id="f7bb0-256">(SISTEMA, N/A)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-256">(SYSTEM, N/A)</span></span>                                                               |
| <span data-ttu-id="f7bb0-257">PublishPackage</span><span class="sxs-lookup"><span data-stu-id="f7bb0-257">PublishPackage</span></span>              | <span data-ttu-id="f7bb0-258">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-258">X</span></span>                                            | <span data-ttu-id="f7bb0-259">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-259">X</span></span>                                      |                                                   |                                                     | <span data-ttu-id="f7bb0-260">(Sistema, usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-260">(SYSTEM, User)</span></span>                                                              |
| <span data-ttu-id="f7bb0-261">UnpublishPackage</span><span class="sxs-lookup"><span data-stu-id="f7bb0-261">UnpublishPackage</span></span>            | <span data-ttu-id="f7bb0-262">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-262">X</span></span>                                            | <span data-ttu-id="f7bb0-263">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-263">X</span></span>                                      |                                                   |                                                     | <span data-ttu-id="f7bb0-264">(Sistema, usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-264">(SYSTEM, User)</span></span>                                                              |
| <span data-ttu-id="f7bb0-265">RemovePackage</span><span class="sxs-lookup"><span data-stu-id="f7bb0-265">RemovePackage</span></span>               | <span data-ttu-id="f7bb0-266">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-266">X</span></span>                                            |                                        |                                                   |                                                     | <span data-ttu-id="f7bb0-267">(SISTEMA, N/A)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-267">(SYSTEM, N/A)</span></span>                                                               |
| <span data-ttu-id="f7bb0-268">StartProcess</span><span class="sxs-lookup"><span data-stu-id="f7bb0-268">StartProcess</span></span>                | <span data-ttu-id="f7bb0-269">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-269">X</span></span>                                            | <span data-ttu-id="f7bb0-270">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-270">X</span></span>                                      | <span data-ttu-id="f7bb0-271">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-271">X</span></span>                                                 | <span data-ttu-id="f7bb0-272">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-272">X</span></span>                                                   | <span data-ttu-id="f7bb0-273">(Usuario, usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-273">(User, User)</span></span>                                                                |
| <span data-ttu-id="f7bb0-274">ExitProcess</span><span class="sxs-lookup"><span data-stu-id="f7bb0-274">ExitProcess</span></span>                 | <span data-ttu-id="f7bb0-275">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-275">X</span></span>                                            | <span data-ttu-id="f7bb0-276">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-276">X</span></span>                                      |                                                   | <span data-ttu-id="f7bb0-277">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-277">X</span></span>                                                   | <span data-ttu-id="f7bb0-278">(Usuario, usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-278">(User, User)</span></span>                                                                |
| <span data-ttu-id="f7bb0-279">StartVirtualEnvironment</span><span class="sxs-lookup"><span data-stu-id="f7bb0-279">StartVirtualEnvironment</span></span>     | <span data-ttu-id="f7bb0-280">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-280">X</span></span>                                            | <span data-ttu-id="f7bb0-281">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-281">X</span></span>                                      | <span data-ttu-id="f7bb0-282">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-282">X</span></span>                                                 |                                                     | <span data-ttu-id="f7bb0-283">(Usuario, usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-283">(User, User)</span></span>                                                                |
| <span data-ttu-id="f7bb0-284">TerminateVirtualEnvironment</span><span class="sxs-lookup"><span data-stu-id="f7bb0-284">TerminateVirtualEnvironment</span></span> | <span data-ttu-id="f7bb0-285">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-285">X</span></span>                                            | <span data-ttu-id="f7bb0-286">X</span><span class="sxs-lookup"><span data-stu-id="f7bb0-286">X</span></span>                                      |                                                   |                                                     | <span data-ttu-id="f7bb0-287">(Usuario, usuario)</span><span class="sxs-lookup"><span data-stu-id="f7bb0-287">(User, User)</span></span>                                                                |

### <span data-ttu-id="f7bb0-288">Uso de varios scripts en un solo desencadenador de eventos</span><span class="sxs-lookup"><span data-stu-id="f7bb0-288">Using multiple scripts on a single event trigger</span></span>

<span data-ttu-id="f7bb0-289">App-V 5,1 admite el uso de varios scripts en un solo desencadenador de eventos para paquetes de App-V, incluidos los paquetes que se convierten de App-V 4,6 a App-V 5,0 o posterior.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-289">App-V 5.1 supports the use of multiple scripts on a single event trigger for App-V packages, including packages that you convert from App-V 4.6 to App-V 5.0 or later.</span></span> <span data-ttu-id="f7bb0-290">Para habilitar el uso de varios scripts, App-V 5,1 usa una aplicación de iniciador de scripts, denominada ScriptRunner.exe, que se instala como parte de la instalación del cliente de App-V.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-290">To enable the use of multiple scripts, App-V 5.1 uses a script launcher application, named ScriptRunner.exe, which is installed as part of the App-V client installation.</span></span>

### <span data-ttu-id="f7bb0-291">Cómo usar varios scripts en un único desencadenador de eventos</span><span class="sxs-lookup"><span data-stu-id="f7bb0-291">How to use multiple scripts on a single event trigger</span></span>

<span data-ttu-id="f7bb0-292">Para cada script que desee ejecutar, pase el script como un argumento a la aplicación ScriptRunner.exe.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-292">For each script that you want to run, pass that script as an argument to the ScriptRunner.exe application.</span></span> <span data-ttu-id="f7bb0-293">Después, la aplicación ejecuta cada script por separado, junto con los argumentos especificados para cada script.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-293">The application then runs each script separately, along with the arguments that you specify for each script.</span></span> <span data-ttu-id="f7bb0-294">Use solo un script (ScriptRunner.exe) por desencadenador.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-294">Use only one script (ScriptRunner.exe) per trigger.</span></span>

> [!NOTE]
> 
> <span data-ttu-id="f7bb0-295">Le recomendamos que ejecute la línea de varias secuencias de comandos desde un símbolo del sistema en primer lugar para asegurarse de que todos los argumentos se generan correctamente antes de agregarlos al archivo de configuración de implementación.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-295">We recommended that you run the multi-script line from a command prompt first to make sure that all arguments are built correctly before adding them to the deployment configuration file.</span></span>

### <span data-ttu-id="f7bb0-296">Scripts de ejemplo y descripciones de parámetros</span><span class="sxs-lookup"><span data-stu-id="f7bb0-296">Example script and parameter descriptions</span></span>

<span data-ttu-id="f7bb0-297">Con el siguiente ejemplo de archivo y tabla, modifique el archivo de configuración de implementación o de usuario para agregar los scripts que desee ejecutar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-297">Using the following example file and table, modify the deployment or user configuration file to add the scripts that you want to run.</span></span>

```XML
<MachineScripts>
 <AddPackage>
   <Path>ScriptRunner.exe</Path>
   <Arguments>
   -appvscript script1.exe arg1 arg2 –appvscriptrunnerparameters –wait –timeout=10
   -appvscript script2.vbs arg1 arg2
   -appvscript script3.bat arg1 arg2 –appvscriptrunnerparameters –wait –timeout=30 –rollbackonerror
   </Arguments>
   <Wait timeout=”40” RollbackOnError=”true”/>
 </AddPackage>
</MachineScripts>
```


**<span data-ttu-id="f7bb0-298">Entre los parámetros del archivo de ejemplo se incluyen:</span><span class="sxs-lookup"><span data-stu-id="f7bb0-298">Parameters in the example file include:</span></span>**

#### \<AddPackage\>

<span data-ttu-id="f7bb0-299">Nombre del desencadenador de eventos para el que se está ejecutando una secuencia de comandos, como agregar un paquete o publicar un paquete.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-299">Name of the event trigger for which you are running a script, such as adding a package or publishing a package.</span></span>

#### \<Path\><span data-ttu-id="f7bb0-300">ScriptRunner.exe</span><span class="sxs-lookup"><span data-stu-id="f7bb0-300">ScriptRunner.exe</span></span>\</Path\>

<span data-ttu-id="f7bb0-301">La aplicación script iniciador que se instala como parte de la instalación del cliente de App-V.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-301">The script launcher application that is installed as part of the App-V client installation.</span></span>

> [!NOTE]
> 
> <span data-ttu-id="f7bb0-302">Aunque ScriptRunner.exe se instala como parte del cliente de App-V, la ubicación del cliente de App-V debe ser% path% o ScriptRunner no se ejecutará.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-302">Although ScriptRunner.exe is installed as part of the App-V client, the location of the App-V client must be in %path% or ScriptRunner will not run.</span></span> <span data-ttu-id="f7bb0-303">Por lo general, ScriptRunner.exe se encuentra en el C:FilesApplication Virtualizationfolder.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-303">ScriptRunner.exe is typically located in the C:FilesApplication Virtualizationfolder.</span></span>

#### \<Arguments\>

`-appvscript` <span data-ttu-id="f7bb0-304">-Token que representa el script real que desea ejecutar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-304">- Token that represents the actual script that you want to run.</span></span>

`script1.exe` <span data-ttu-id="f7bb0-305">: Nombre del script que desea ejecutar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-305">– Name of the script that you want to run.</span></span>

`arg1 arg2` <span data-ttu-id="f7bb0-306">: Argumentos para el script que desea ejecutar.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-306">– Arguments for the script that you want to run.</span></span>

`-appvscriptrunnerparameters` <span data-ttu-id="f7bb0-307">: Token que representa las opciones de ejecución de script1.exe.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-307">– Token that represents the execution options for script1.exe.</span></span>

`-wait` <span data-ttu-id="f7bb0-308">– Token que informa a ScriptRunner de que debe esperar a que se complete la ejecución de script1.exe antes de continuar con el siguiente script.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-308">– Token that informs ScriptRunner to wait for execution of script1.exe to complete before proceeding to the next script.</span></span>

`-timeout=x` <span data-ttu-id="f7bb0-309">: Token que informa a ScriptRunner de que deje de ejecutar el script actual después de x cantidad de segundos.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-309">– Token that informs ScriptRunner to stop running the current script after x number of seconds.</span></span> <span data-ttu-id="f7bb0-310">El resto de las secuencias de comandos especificadas aún se ejecutan.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-310">All other specified scripts still runs.</span></span>

`-rollbackonerror` <span data-ttu-id="f7bb0-311">– Token que informa a ScriptRunner detener la ejecución de todos los scripts que aún no se han ejecutado y para deshacer un error en el cliente de App-V.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-311">– Token that informs ScriptRunner to stop running all scripts that haven't yet run and to roll back an error to the App-V client.</span></span>

#### \<Wait timeout=”40” RollbackOnError=”true”/\>

<span data-ttu-id="f7bb0-312">Espera a que se complete globalmente ScriptRunner.exe.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-312">Waits for overall completion of ScriptRunner.exe.</span></span>

<span data-ttu-id="f7bb0-313">Configure el valor de tiempo de espera para que el corredor global sea mayor o igual que la suma de los valores de tiempo de espera en los scripts individuales.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-313">Set the timeout value for the overall runner to be greater than or equal to the sum of the timeout values on the individual scripts.</span></span>

<span data-ttu-id="f7bb0-314">Si algún script individual informó de un error y rollbackonerror se estableció en true, ScriptRunner notificaría el error al cliente App-V.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-314">If any individual script reported an error and rollbackonerror was set to true, then ScriptRunner would report the error to App-V client.</span></span>

<span data-ttu-id="f7bb0-315">ScriptRunner ejecuta cualquier script cuyo tipo de archivo esté asociado a una aplicación instalada en el equipo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-315">ScriptRunner runs any script whose file type is associated with an application installed on the computer.</span></span> <span data-ttu-id="f7bb0-316">Si falta la aplicación asociada o el tipo de archivo del script no está asociado con ninguna aplicación del equipo, el script no se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-316">If the associated application is missing, or the script’s file type is not associated with any application on the computer, the script does not run.</span></span>

### <span data-ttu-id="f7bb0-317">Crear un archivo de configuración dinámica con un archivo de manifiesto de App-V 5,1</span><span class="sxs-lookup"><span data-stu-id="f7bb0-317">Create a dynamic configuration file using an App-V 5.1 manifest file</span></span>

<span data-ttu-id="f7bb0-318">Puede crear el archivo de configuración dinámica con uno de estos tres métodos: manualmente, usando la consola de administración de App-V 5,1 o secuenciando un paquete, que genera dos archivos de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-318">You can create the dynamic configuration file using one of three methods: either manually, using the App-V 5.1 Management Console or sequencing a package, which generates two sample files.</span></span> <span data-ttu-id="f7bb0-319">Para obtener más información sobre cómo crear el archivo con la consola de administración de App-V 5,1, consulte [Cómo crear un archivo de configuración personalizado con la consola de administración de App-v 5,1](how-to-create-a-custom-configuration-file-by-using-the-app-v-51-management-console.md).</span><span class="sxs-lookup"><span data-stu-id="f7bb0-319">For more information about how to create the file using the App-V 5.1 Management Console see, [How to create a custom configuration File by using the App-V 5.1 Management Console](how-to-create-a-custom-configuration-file-by-using-the-app-v-51-management-console.md).</span></span>

<span data-ttu-id="f7bb0-320">Para crear el archivo manualmente, la información anterior de las secciones anteriores se puede combinar en un solo archivo.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-320">To create the file manually, the information above in previous sections can be combined into a single file.</span></span> <span data-ttu-id="f7bb0-321">Le recomendamos que use los archivos generados por el secuenciador.</span><span class="sxs-lookup"><span data-stu-id="f7bb0-321">We recommend you use files generated by the sequencer.</span></span>



- <span data-ttu-id="f7bb0-322">Agregue o vote por sugerencias [aquí](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization).</span><span class="sxs-lookup"><span data-stu-id="f7bb0-322">Add or vote on suggestions [here](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization).</span></span>
- <span data-ttu-id="f7bb0-323">Para los problemas de App-V, use el [Foro de TechNet de App-v](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).</span><span class="sxs-lookup"><span data-stu-id="f7bb0-323">For App-V issues, use the [App-V TechNet Forum](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).</span></span>

## <span data-ttu-id="f7bb0-324">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="f7bb0-324">Related topics</span></span>

- [<span data-ttu-id="f7bb0-325">Cómo aplicar el archivo de configuración de implementación mediante el uso de PowerShell</span><span class="sxs-lookup"><span data-stu-id="f7bb0-325">How to Apply the Deployment Configuration File by Using PowerShell</span></span>](how-to-apply-the-deployment-configuration-file-by-using-powershell51.md)

- [<span data-ttu-id="f7bb0-326">Cómo aplicar el archivo de configuración de usuario mediante el uso de PowerShell</span><span class="sxs-lookup"><span data-stu-id="f7bb0-326">How to Apply the User Configuration File by Using PowerShell</span></span>](how-to-apply-the-user-configuration-file-by-using-powershell51.md)

- [<span data-ttu-id="f7bb0-327">Operaciones de App-V 5.1</span><span class="sxs-lookup"><span data-stu-id="f7bb0-327">Operations for App-V 5.1</span></span>](operations-for-app-v-51.md)

---
